#!/bin/bash

# GlobalProtect VPN CLI Tool

PORTAL="vpn.nordicsemi.no"

# Colors
GREEN='\033[0;32m'
RED='\033[0;31m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

show_help() {
    echo "GlobalProtect VPN CLI Tool"
    echo ""
    echo "Usage: vpn_gp <command>"
    echo ""
    echo "Commands:"
    echo "  u, up          Connect to VPN"
    echo "  s, status      Show current VPN status"
    echo "  d, down        Disconnect from VPN"
    echo "  h, help        Show this help message"
    echo ""
}

case "${1:-}" in
    u|up)
        echo -e "${YELLOW}Connecting to $PORTAL...${NC}"
        globalprotect connect -p "$PORTAL"
        ;;
    s|status)
        globalprotect show --status
        ;;
    d|down)
        echo -e "${YELLOW}Disconnecting from VPN...${NC}"
        globalprotect disconnect
        ;;
    h|help|--help|-h)
        show_help
        ;;
    "")
        echo -e "${RED}Error: No command provided${NC}"
        echo ""
        show_help
        ;;
    *)
        echo -e "${RED}Error: Unknown command '$1'${NC}"
        echo ""
        show_help
        ;;
esac
